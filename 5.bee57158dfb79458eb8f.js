(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DNuw:function(r,e,o){"use strict";o.r(e),o.d(e,"RegistrationModule",(function(){return P}));var i=o("ofXK"),n=o("3Pt+"),s=o("tyNb");function t(r){const e=r.get("password"),o=r.get("confirmPassword");return e&&o&&e.value!=o.value?{mismatch:!0}:null}function a(r){const e=r.get("username"),o=r.get("confirmUsername");return e&&o&&e.value!=o.value?{UsernameMismatch:!0}:null}var c=o("Dd/b"),l=o("fXoL"),m=o("kPNC"),b=o("B+sD"),u=o("JqCM");function d(r,e){1&r&&(l.Nb(0,"div"),l.Nb(1,"div",21),l.kc(2,"Please enter your first name"),l.Mb(),l.Mb())}function f(r,e){1&r&&(l.Nb(0,"div"),l.Nb(1,"div",21),l.kc(2,"Please enter your last name"),l.Mb(),l.Mb())}function v(r,e){1&r&&(l.Nb(0,"div"),l.Nb(1,"div",21),l.kc(2,"Please enter a valid username"),l.Mb(),l.Mb())}function g(r,e){1&r&&(l.Nb(0,"div"),l.Nb(1,"div",21),l.kc(2,"Username already exists"),l.Mb(),l.Mb())}function h(r,e){1&r&&(l.Nb(0,"div",21),l.kc(1,"Confirm username "),l.Jb(2,"br"),l.Mb())}function p(r,e){1&r&&(l.Nb(0,"div",21),l.kc(1,"Please enter the same username"),l.Mb())}function N(r,e){if(1&r&&(l.Nb(0,"div"),l.jc(1,h,3,0,"div",22),l.jc(2,p,2,0,"div",22),l.Mb()),2&r){const r=l.Wb();l.xb(1),l.bc("ngIf",null==r.confirmUsername.errors?null:r.confirmUsername.errors.required),l.xb(1),l.bc("ngIf",(null==r.registrationForm.errors?null:r.registrationForm.errors.UsernameMismatch)&&r.confirmUsername.dirty)}}function w(r,e){1&r&&(l.Nb(0,"div",21),l.kc(1,"Password is required"),l.Mb())}function M(r,e){1&r&&(l.Nb(0,"div",21),l.kc(1,"Password must be atleast 6 characters long"),l.Mb())}function k(r,e){if(1&r&&(l.Nb(0,"div"),l.jc(1,w,2,0,"div",22),l.jc(2,M,2,0,"div",22),l.Mb()),2&r){const r=l.Wb();l.xb(1),l.bc("ngIf",null==r.password.errors?null:r.password.errors.required),l.xb(1),l.bc("ngIf",null==r.password.errors?null:r.password.errors.minlength)}}function x(r,e){1&r&&(l.Nb(0,"div",21),l.kc(1,"Confirm password "),l.Jb(2,"br"),l.Mb())}function y(r,e){1&r&&(l.Nb(0,"div",21),l.kc(1,"Password mismatch"),l.Mb())}function I(r,e){if(1&r&&(l.Nb(0,"div"),l.jc(1,x,3,0,"div",22),l.jc(2,y,2,0,"div",22),l.Mb()),2&r){const r=l.Wb();l.xb(1),l.bc("ngIf",null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),l.xb(1),l.bc("ngIf",(null==r.registrationForm.errors?null:r.registrationForm.errors.mismatch)&&r.confirmPassword.dirty)}}const F=[{path:"",component:(()=>{class r{constructor(r,e,o,i,s){this.fb=r,this.router=e,this.loginService=o,this.notificationService=i,this.spinner=s,this.usernameAlreadyExists=!1,this.registrationForm=this.fb.group({firstName:["",[n.h.required,c.a]],lastName:["",[n.h.required,c.a]],username:["",[n.h.required,c.a]],confirmUsername:["",[n.h.required,c.a]],password:["",[n.h.required,n.h.minLength(6),c.a]],confirmPassword:["",[n.h.required,c.a]]},{validator:[t,a]})}get firstName(){return this.registrationForm.get("firstName")}get lastName(){return this.registrationForm.get("lastName")}get username(){return this.registrationForm.get("username")}get confirmUsername(){return this.registrationForm.get("confirmUsername")}get password(){return this.registrationForm.get("password")}get confirmPassword(){return this.registrationForm.get("confirmPassword")}ngOnInit(){}RegisterUser(){this.spinner.show(),this.MapUserfields(),this.loginService.AddUser(this.loginService.user).subscribe(r=>{r.username==this.username.value?(console.log("successfully added to DB",r),this.notificationService.showSuccess("Account created successfully","Autodesk"),this.spinner.hide(),this.router.navigate(["/login"])):(this.usernameAlreadyExists=!0,this.spinner.hide(),this.notificationService.showError("Username already exists","Autodesk"))},r=>{this.spinner.hide(),console.log("Error Occured")})}MapUserfields(){this.loginService.user.firstName=this.firstName.value,this.loginService.user.lastname=this.lastName.value,this.loginService.user.username=this.username.value,this.loginService.user.userPassword=this.password.value}}return r.\u0275fac=function(e){return new(e||r)(l.Ib(n.b),l.Ib(s.b),l.Ib(m.a),l.Ib(b.a),l.Ib(u.c))},r.\u0275cmp=l.Cb({type:r,selectors:[["app-registration"]],decls:46,vars:21,consts:[[1,"centered"],[1,"headerMessage"],["autocomplete","off",3,"formGroup"],[1,"FormDiv"],[1,"row"],[1,"form-group","col-6"],[1,"formcontrol","formControlLabel"],["formControlName","firstName",1,"form-control","formcontrol","formControlInput"],[4,"ngIf"],["formControlName","lastName",1,"form-control","formcontrol","formControlInput"],[1,"form-group"],["formControlName","username",1,"form-control","formcontrol","formControlInput"],["formControlName","confirmUsername",1,"form-control","formcontrol","formControlInput"],["type","password","formControlName","password",1,"form-control","formcontrol","formControlInput"],[1,"form-group","fromGroupLast"],["type","password","formControlName","confirmPassword",1,"form-control","formcontrol","formControlInput"],["type","submit",1,"btn","btn-primary","col-12","formButton",3,"disabled","click"],[1,"text-center","bottomText",2,"color","#808080"],["routerLink","/login",1,"hyperlink"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","white"],[1,"danger"],["class","danger",4,"ngIf"]],template:function(r,e){1&r&&(l.Nb(0,"div",0),l.Nb(1,"h3",1),l.kc(2,"Create Account"),l.Mb(),l.Nb(3,"form",2),l.Nb(4,"div",3),l.Nb(5,"div",4),l.Nb(6,"div",5),l.Nb(7,"label",6),l.kc(8,"First name"),l.Mb(),l.Jb(9,"input",7),l.jc(10,d,3,0,"div",8),l.Mb(),l.Nb(11,"div",5),l.Nb(12,"label",6),l.kc(13,"Last name"),l.Mb(),l.Jb(14,"input",9),l.jc(15,f,3,0,"div",8),l.Mb(),l.Mb(),l.Nb(16,"div",10),l.Nb(17,"label",6),l.kc(18,"Username"),l.Mb(),l.Jb(19,"input",11),l.jc(20,v,3,0,"div",8),l.jc(21,g,3,0,"div",8),l.Mb(),l.Nb(22,"div",10),l.Nb(23,"label",6),l.kc(24,"Re-type username"),l.Mb(),l.Jb(25,"input",12),l.jc(26,N,3,2,"div",8),l.Mb(),l.Nb(27,"div",10),l.Nb(28,"label",6),l.kc(29,"Password"),l.Mb(),l.Jb(30,"input",13),l.jc(31,k,3,2,"div",8),l.Mb(),l.Nb(32,"div",14),l.Nb(33,"label",6),l.kc(34,"Re-type password"),l.Mb(),l.Jb(35,"input",15),l.jc(36,I,3,2,"div",8),l.Mb(),l.Mb(),l.Nb(37,"button",16),l.Ub("click",(function(){return e.RegisterUser()})),l.kc(38,"Create account"),l.Mb(),l.Nb(39,"p",17),l.kc(40,"Already have an account? "),l.Nb(41,"a",18),l.kc(42,"Sign in"),l.Mb(),l.Mb(),l.Mb(),l.Mb(),l.Nb(43,"ngx-spinner",19),l.Nb(44,"p",20),l.kc(45,"Please Wait"),l.Mb(),l.Mb()),2&r&&(l.xb(3),l.bc("formGroup",e.registrationForm),l.xb(6),l.Ab("is-invalid",e.firstName.invalid&&e.firstName.touched),l.xb(1),l.bc("ngIf",e.firstName.invalid&&e.firstName.touched),l.xb(4),l.Ab("is-invalid",e.lastName.invalid&&e.lastName.touched),l.xb(1),l.bc("ngIf",e.lastName.invalid&&e.lastName.touched),l.xb(4),l.Ab("is-invalid",e.username.invalid&&e.username.touched),l.xb(1),l.bc("ngIf",e.username.invalid&&e.username.touched),l.xb(1),l.bc("ngIf",e.usernameAlreadyExists),l.xb(4),l.Ab("is-invalid",e.confirmUsername.invalid&&e.confirmUsername.touched&&(null==e.registrationForm.errors?null:e.registrationForm.errors.UsernameMismatch)),l.xb(1),l.bc("ngIf",(null==e.registrationForm.errors?null:e.registrationForm.errors.UsernameMismatch)&&e.confirmUsername.touched),l.xb(4),l.Ab("is-invalid",e.password.invalid&&e.password.touched),l.xb(1),l.bc("ngIf",e.password.invalid&&e.password.touched),l.xb(4),l.Ab("is-invalid",(null==e.registrationForm.errors?null:e.registrationForm.errors.mismatch)&&e.confirmPassword.invalid&&e.confirmPassword.touched),l.xb(1),l.bc("ngIf",(null==e.registrationForm.errors?null:e.registrationForm.errors.mismatch)&&e.confirmPassword.touched),l.xb(1),l.bc("disabled",e.registrationForm.invalid))},directives:[n.i,n.f,n.d,n.a,n.e,n.c,i.i,s.c,u.a],styles:[""]}),r})()}];let U=(()=>{class r{}return r.\u0275mod=l.Gb({type:r}),r.\u0275inj=l.Fb({factory:function(e){return new(e||r)},imports:[[s.d.forChild(F)],s.d]}),r})(),P=(()=>{class r{}return r.\u0275mod=l.Gb({type:r}),r.\u0275inj=l.Fb({factory:function(e){return new(e||r)},imports:[[i.b,U,n.g,u.b]]}),r})()}}]);