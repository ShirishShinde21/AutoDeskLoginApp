(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{DNuw:function(r,e,o){"use strict";o.r(e),o.d(e,"RegistrationModule",(function(){return j}));var i=o("ofXK"),n=o("3Pt+"),s=o("tyNb");function t(r){const e=r.get("password"),o=r.get("confirmPassword");return e&&o&&e.value!=o.value?{mismatch:!0}:null}function a(r){const e=r.get("username"),o=r.get("confirmUsername");return e&&o&&e.value!=o.value?{UsernameMismatch:!0}:null}var c=o("Dd/b"),l=o("tk/3"),b=o("fXoL"),m=o("kPNC"),u=o("B+sD"),d=o("JqCM");function f(r,e){1&r&&(b.Nb(0,"div"),b.Nb(1,"div",21),b.kc(2,"Please enter your first name"),b.Mb(),b.Mb())}function v(r,e){1&r&&(b.Nb(0,"div"),b.Nb(1,"div",21),b.kc(2,"Please enter your last name"),b.Mb(),b.Mb())}function g(r,e){1&r&&(b.Nb(0,"div"),b.Nb(1,"div",21),b.kc(2,"Please enter a valid username"),b.Mb(),b.Mb())}function h(r,e){1&r&&(b.Nb(0,"div"),b.Nb(1,"div",21),b.kc(2,"Username already exists"),b.Mb(),b.Mb())}function p(r,e){1&r&&(b.Nb(0,"div",21),b.kc(1,"Confirm username "),b.Jb(2,"br"),b.Mb())}function N(r,e){1&r&&(b.Nb(0,"div",21),b.kc(1,"Please enter the same username"),b.Mb())}function w(r,e){if(1&r&&(b.Nb(0,"div"),b.jc(1,p,3,0,"div",22),b.jc(2,N,2,0,"div",22),b.Mb()),2&r){const r=b.Wb();b.xb(1),b.bc("ngIf",null==r.confirmUsername.errors?null:r.confirmUsername.errors.required),b.xb(1),b.bc("ngIf",(null==r.registrationForm.errors?null:r.registrationForm.errors.UsernameMismatch)&&r.confirmUsername.dirty)}}function M(r,e){1&r&&(b.Nb(0,"div",21),b.kc(1,"Password is required"),b.Mb())}function k(r,e){1&r&&(b.Nb(0,"div",21),b.kc(1,"Password must be atleast 6 characters long"),b.Mb())}function x(r,e){if(1&r&&(b.Nb(0,"div"),b.jc(1,M,2,0,"div",22),b.jc(2,k,2,0,"div",22),b.Mb()),2&r){const r=b.Wb();b.xb(1),b.bc("ngIf",null==r.password.errors?null:r.password.errors.required),b.xb(1),b.bc("ngIf",null==r.password.errors?null:r.password.errors.minlength)}}function I(r,e){1&r&&(b.Nb(0,"div",21),b.kc(1,"Confirm password "),b.Jb(2,"br"),b.Mb())}function y(r,e){1&r&&(b.Nb(0,"div",21),b.kc(1,"Password mismatch"),b.Mb())}function F(r,e){if(1&r&&(b.Nb(0,"div"),b.jc(1,I,3,0,"div",22),b.jc(2,y,2,0,"div",22),b.Mb()),2&r){const r=b.Wb();b.xb(1),b.bc("ngIf",null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),b.xb(1),b.bc("ngIf",(null==r.registrationForm.errors?null:r.registrationForm.errors.mismatch)&&r.confirmPassword.dirty)}}function P(r,e){1&r&&(b.Nb(0,"div"),b.Nb(1,"div",21),b.kc(2,"Oops! There's some network error. Please try again later."),b.Mb(),b.Mb())}const U=[{path:"",component:(()=>{class r{constructor(r,e,o,i){this.fb=r,this.router=e,this.loginService=o,this.notificationService=i,this.usernameAlreadyExists=!1,this.technicalIssue=!1,this.registrationForm=this.fb.group({firstName:["",[n.h.required,c.a]],lastName:["",[n.h.required,c.a]],username:["",[n.h.required,c.a]],confirmUsername:["",[n.h.required,c.a]],password:["",[n.h.required,n.h.minLength(6),c.a]],confirmPassword:["",[n.h.required,c.a]]},{validator:[t,a]})}get firstName(){return this.registrationForm.get("firstName")}get lastName(){return this.registrationForm.get("lastName")}get username(){return this.registrationForm.get("username")}get confirmUsername(){return this.registrationForm.get("confirmUsername")}get password(){return this.registrationForm.get("password")}get confirmPassword(){return this.registrationForm.get("confirmPassword")}RegisterUser(){this.MapUserfields(),this.loginService.AddUser(this.loginService.user).subscribe(r=>{r.username==this.username.value?(this.notificationService.showSuccess("Account created successfully","Autodesk"),this.router.navigate(["/login"])):(this.usernameAlreadyExists=!0,this.notificationService.showError("Username already exists","Autodesk"))},r=>{console.log("Error Occured"),r instanceof l.d&&(this.technicalIssue=!0)})}MapUserfields(){this.loginService.user.firstName=this.firstName.value,this.loginService.user.lastname=this.lastName.value,this.loginService.user.username=this.username.value,this.loginService.user.userPassword=this.password.value}}return r.\u0275fac=function(e){return new(e||r)(b.Ib(n.b),b.Ib(s.b),b.Ib(m.a),b.Ib(u.a))},r.\u0275cmp=b.Cb({type:r,selectors:[["app-registration"]],decls:47,vars:22,consts:[[1,"centered"],[1,"headerMessage"],["autocomplete","off",3,"formGroup"],[1,"FormDiv"],[1,"row"],[1,"form-group","col-6"],[1,"formcontrol","formControlLabel"],["formControlName","firstName",1,"form-control","formcontrol","formControlInput"],[4,"ngIf"],["formControlName","lastName",1,"form-control","formcontrol","formControlInput"],[1,"form-group"],["formControlName","username",1,"form-control","formcontrol","formControlInput"],["formControlName","confirmUsername",1,"form-control","formcontrol","formControlInput"],["type","password","formControlName","password",1,"form-control","formcontrol","formControlInput"],[1,"form-group","fromGroupLast"],["type","password","formControlName","confirmPassword",1,"form-control","formcontrol","formControlInput"],["type","submit",1,"btn","btn-primary","col-12","formButton",3,"disabled","click"],[1,"text-center","bottomText",2,"color","#808080"],["routerLink","/login",1,"hyperlink"],["bdColor","rgba(51, 51, 51, 0.8)","size","default","type","ball-spin-clockwise"],[2,"color","white"],[1,"danger"],["class","danger",4,"ngIf"]],template:function(r,e){1&r&&(b.Nb(0,"div",0),b.Nb(1,"h3",1),b.kc(2,"Create Account"),b.Mb(),b.Nb(3,"form",2),b.Nb(4,"div",3),b.Nb(5,"div",4),b.Nb(6,"div",5),b.Nb(7,"label",6),b.kc(8,"First name"),b.Mb(),b.Jb(9,"input",7),b.jc(10,f,3,0,"div",8),b.Mb(),b.Nb(11,"div",5),b.Nb(12,"label",6),b.kc(13,"Last name"),b.Mb(),b.Jb(14,"input",9),b.jc(15,v,3,0,"div",8),b.Mb(),b.Mb(),b.Nb(16,"div",10),b.Nb(17,"label",6),b.kc(18,"Username"),b.Mb(),b.Jb(19,"input",11),b.jc(20,g,3,0,"div",8),b.jc(21,h,3,0,"div",8),b.Mb(),b.Nb(22,"div",10),b.Nb(23,"label",6),b.kc(24,"Re-type username"),b.Mb(),b.Jb(25,"input",12),b.jc(26,w,3,2,"div",8),b.Mb(),b.Nb(27,"div",10),b.Nb(28,"label",6),b.kc(29,"Password"),b.Mb(),b.Jb(30,"input",13),b.jc(31,x,3,2,"div",8),b.Mb(),b.Nb(32,"div",14),b.Nb(33,"label",6),b.kc(34,"Re-type password"),b.Mb(),b.Jb(35,"input",15),b.jc(36,F,3,2,"div",8),b.jc(37,P,3,0,"div",8),b.Mb(),b.Mb(),b.Nb(38,"button",16),b.Ub("click",(function(){return e.RegisterUser()})),b.kc(39,"Create account"),b.Mb(),b.Nb(40,"p",17),b.kc(41,"Already have an account? "),b.Nb(42,"a",18),b.kc(43,"Sign in"),b.Mb(),b.Mb(),b.Mb(),b.Mb(),b.Nb(44,"ngx-spinner",19),b.Nb(45,"p",20),b.kc(46,"Please Wait"),b.Mb(),b.Mb()),2&r&&(b.xb(3),b.bc("formGroup",e.registrationForm),b.xb(6),b.Ab("is-invalid",e.firstName.invalid&&e.firstName.touched),b.xb(1),b.bc("ngIf",e.firstName.invalid&&e.firstName.touched),b.xb(4),b.Ab("is-invalid",e.lastName.invalid&&e.lastName.touched),b.xb(1),b.bc("ngIf",e.lastName.invalid&&e.lastName.touched),b.xb(4),b.Ab("is-invalid",e.username.invalid&&e.username.touched),b.xb(1),b.bc("ngIf",e.username.invalid&&e.username.touched),b.xb(1),b.bc("ngIf",e.usernameAlreadyExists),b.xb(4),b.Ab("is-invalid",e.confirmUsername.invalid&&e.confirmUsername.touched&&(null==e.registrationForm.errors?null:e.registrationForm.errors.UsernameMismatch)),b.xb(1),b.bc("ngIf",(null==e.registrationForm.errors?null:e.registrationForm.errors.UsernameMismatch)&&e.confirmUsername.touched),b.xb(4),b.Ab("is-invalid",e.password.invalid&&e.password.touched),b.xb(1),b.bc("ngIf",e.password.invalid&&e.password.touched),b.xb(4),b.Ab("is-invalid",(null==e.registrationForm.errors?null:e.registrationForm.errors.mismatch)&&e.confirmPassword.invalid&&e.confirmPassword.touched),b.xb(1),b.bc("ngIf",(null==e.registrationForm.errors?null:e.registrationForm.errors.mismatch)&&e.confirmPassword.touched),b.xb(1),b.bc("ngIf",e.technicalIssue),b.xb(1),b.bc("disabled",e.registrationForm.invalid))},directives:[n.i,n.f,n.d,n.a,n.e,n.c,i.i,s.c,d.a],encapsulation:2}),r})()}];let C=(()=>{class r{}return r.\u0275mod=b.Gb({type:r}),r.\u0275inj=b.Fb({factory:function(e){return new(e||r)},imports:[[s.d.forChild(U)],s.d]}),r})(),j=(()=>{class r{}return r.\u0275mod=b.Gb({type:r}),r.\u0275inj=b.Fb({factory:function(e){return new(e||r)},imports:[[i.b,C,n.g,d.b]]}),r})()}}]);